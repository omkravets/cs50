# Mario

{% video https://youtu.be/SQjeP62j9F0 %}

{% next %}

## World 1-1

В кінці рівня World 1-1 гри Super Mario Brothers компанії Nintendo, Маріо має піднятись на напівпіраміду з блоків перед тим, як стрибнути до флагштока (якщо він хоче максимізувати набрані очки). Знизу ви можете побачити скріншот з гри.

![screenshot of Mario jumping up a right-aligned pyramid](pyramid.png)

Давайте відтворимо цю піраміду на С, у текстовому вигляді за допомогою хешів (#), які будуть замість цеглин. Кожен хеш трохи вищий, ніж ширший, то ж і сама піраміда стає вищою та вужчою.

```
       #
      ##
     ###
    ####
   #####
  ######
 #######
########
```

Наша програма буде називатись mario. Давайте дамо користувачеві можливість вирішити самостійно, наскільки високою має бути піраміда, спочатку запитавши в користувача ціле число від 1 до 8 включно.

Ось, як має працювати програма, якщо користувач ввів число 8:

```
$ ./mario
Height: 8
       #
      ##
     ###
    ####
   #####
  ######
 #######
########
```

Ось, як має працювати програма, якщо користувач ввів число 4:

```
$ ./mario
Height: 4
   #
  ##
 ###
####
```

Ось, як має працювати програма, якщо користувач ввів число 2:

```
$ ./mario
Height: 2
 #
##
```

Ось, як має працювати програма, якщо користувач ввів число 1:

```
$ ./mario
Height: 1
#
```

Якщо користувач не ввів додатне ціле число від 1 до 8 включно, програма має продовжувати запитувати число, поки користувач його не введе:

```
$ ./mario
Height: -1
Height: 0
Height: 42
Height: 50
Height: 4
   #
  ##
 ###
####
```

{% spoiler "РОЗВ’ЯЗОК КОМАНДИ КУРСУ" %}

Для перегляду розв’язків цієї задачі від команди курсу, виконайте:

```
./mario
```

ось [тут](http://bit.ly/2VAClIi).

{% endspoiler %}

Як розпочати? Давайте розглянемо задачу покроково.

{% next %}

## Псевдокод

Спочатку напишіть у pseudocode.txt справа якийсь псевдокод, який імплементує цю програму, навіть якщо ви не впевнені (поки!), як саме написати це у коді. Не існує правильного способу написання псевдокоду, короткі українські речення цілком підійдуть. Згадайте, як ми писали псевдокод для [пошуку Майка Сміта](https://prometheus.org.ua/cs50_2019/notes0.html#pseudocode). Мабуть, у вашому коді будуть використані (або мають бути використані!) одна-дві функції, умови, булеві вирази, цикли та/або змінні.

{% spoiler %}

Існує багато способів це зробити, а ось один з них!

* Запитати в користувача висоту height
* Якщо висота менша за 1 або більше за 8 (або не ціле число взагалі), повернутись на один крок
* Ітерувати з 1 до height:
* На ітерації `i` виводити `i` хешів і потім новий рядок

Ви спокійно можете відредагувати свій код, щойно прочитаєте та проаналізуєте цей, але не копіюйте наш код замість власного!

{% endspoiler %}

{% next %}

## Запит вхідних даних від користувача

Яким би не був ваш псевдокод, давайте почнемо з коду на С, який просить (одноразово чи повторно) користувача ввести дані.

Змініть `mario.c` справа таким чином, аби у коді був запит до користувача про висоту піраміди, збережіть введені дані у змінній, ще раз запитайте користувача, а потім знову за потреби, якщо він вводить не цілі додатні числа від 1 до 8 включно. Потім просто виведіть значення змінної, чим ви підтвердите (для себе), що ви насправді зберегли введені користувачем дані, як наведено нижче.

```
$ ./mario
Height: -1
Height: 0
Height: 42
Height: 50
Height: 4
Stored: 4
```

{% spoiler "Підказки" %}

* Пам’ятайте, що можете скомпілювати вашу програму за допомогою make.
* Пам’ятайте, що ви можете виводити int за допомогою printf скориставшись %i.
* Пам’ятайте, що ви можете одержати ціле число від користувача за допомогою get_int.
* Пам’ятайте, що get_int оголошується у cs50.h.
* Пам’ятайте, що ми запитували у користувача додатне ціле число під час лекції в [`positive.c`](https://sandbox.cs50.io/b56865fd-c861-425f-aad7-4adcf6831139).

{% endspoiler %}

## Побудова зворотної піраміди

Ваша програма (сподіваємось!) приймає вхідні дані, як потрібно, настав час наступного кроку.

Виявляється, трохи простіше будувати піраміду, вирівняну за лівим краєм, ніж за правим, як ось тут:

```
#
##
###
####
#####
######
#######
########
```

Тож давайте таку й побудуємо для початку, а потім, коли все вже буде працювати, ще й вирівняємо її справа!

Змініть `mario.c` справа таким чином, щоб програма не просто виводила дані користувача, а побудувала піраміду із вирівнювання зліва такої висоти.

{% spoiler "Підказки" %}

* Не забудьте, що хеш – це просто символ, тому ви можете вивести його за допомогою printf, як і будь-який інший.
* Як у Scratch є блок [Repeat](https://prometheus.org.ua/cs50_2019/notes0.html#scratch), у С є цикл for за допомогою якого можна повторювати певну кількість разів. Можливо, на кожній ітерації i ви зможете виводити стільки ж хешів?
* Ви можете “вкладати” цикли один в один, ітеруючі через одну змінну (наприклад, i) у “зовнішньому” циклі і через іншу (наприклад, j) у “внутрішньому”. Наприклад, ось так ви зможете вивести квадрат із сторонами n. Звісно, це не той квадрат, який вам самим треба вивести!

    ```
    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < n; j++)
        {
            printf("#");
        }
        printf("\n");
    }
    ```

{% endspoiler %}

{% next %}

## Вирівнювання справа за допомогою крапок

А тепер давайте цю ж піраміду вирівняємо справа просто посунувши хеші вправо за допомогою крапок, як наведено нижче:

```
.......#
......##
.....###
....####
...#####
..######
.#######
########
```

Змініть `mario.c` так, щоб у вас саме це й вийшло!

{% spoiler "Підказка" %}

Зверніть увагу, що кількість крапок на кожному рядку протилежна числу хешів. Для піраміди у 8 хешів заввишки, як на прикладі згори, на першому рядку буде 1 хеш та 7 крапок. На нижньому рядку водночас буде 8 хешів та 0 крапок. За допомогою якої формули (або розрахунків) ви можете вивести потрібну кількість крапок?

{% endspoiler %}

### Як протестувати ваш код

Ваш код працює так, як описано, коли ви вводите:

* -1 (або інше від’ємне число)?
* 0?
* від 1 до 8?
* 9 або інше додатне число?
* літери або слова?
* нічого не вводите, а просто натискаєте Enter?

{% next %}

## Прибирання крапок

Залишилось тільки все причепурити! Змініть mario.c так, аби замість крапок були пробіли!

{% spoiler "Підказка" %}

Пробіл – це просто одне натискання по пробілу на клавіатурі, так само, як крапка – це просто натискання її символу! Пам’ятайте, що `printf` потрібно, щоб те й інше було у подвійних лапках!

{% endspoiler %}
